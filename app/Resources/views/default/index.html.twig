{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/weather-icons.min.css') }}">
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-sm-3 text-sm-center" id="weather">
            {{ include(':default:weather.html.twig') }}
        </div>
        <div class="col-sm-9 text-sm-center" id="dailyrecipe">
            {{ include(':default:dayrecipe.html.twig') }}
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="recipeModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <iframe width="600" height="400" id="siteFrame"></iframe>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        var skycons = new Skycons({'color': '#3B3738'});
        skycons.add('weather-icon', '{{ forecast.icon }}');
        skycons.play();

        $(function () {
            $('#siteFrame').attr('src', '{{ recipe.link }}');

            setInterval(function () {
                $('#weather').load('{{ path('weather') }}')
            }, 3600000);
            setInterval(function () {
                $('#dailyrecipe').load('{{ path('dailyRecipe') }}')
            }, 86400000);
        })
    </script>
{% endblock %}